# 📊 Scenario 1 – Churn & Retention Analysis

This module analyzes **customer churn behavior** and **retention curves** for Hopify’s SaaS business across time, cohorts, and customer segments.

It includes both **benchmarkable KPI queries** and **lifecycle exploration tools** using SQL best practices.

---

## 💡 Key Scripts Overview

| Script | Purpose |
| --- | --- |
| **Monthly Churn Rate (Standard)** | Tracks raw churn rate over time. Good for high-level trend spotting. |
| **Monthly Churn Rate (Best Practice)** | Ensures robust churn rate even with sparse months. Ideal for reporting. |
| **Monthly Churn by Segment** | Tracks churn behavior across customer segments. |
| **Monthly Churn + Benchmarks** | Adds benchmark comparison per segment. |
| **Cohort Churn** | Reveals how long signup cohorts survive. |
| **Cohort Churn by Segment** | Adds segment view to cohort churn for decay modeling. |
| **Pivoted Retention % Table** | Outputs Month 0–12 retention %s for Excel heatmaps. |
| **Pivoted Raw Count Table** | Companion to above with raw customer counts. |
| **Combined Retention Curve** | Side-by-side % + count per cohort/segment. |
| **Retention Milestones (1/3/6/12 months)** | Key snapshot KPIs for executive dashboards. |
| **Segment-Level Retention Curve** | Aggregated long-term performance by segment. |
| **Segment Retention vs. Benchmarks** | Final benchmark comparison by lifecycle milestone. |

---

## ✅ Recommended Usage

| Use Case | Script(s) |
|---|---|
| High-level reporting | 1, 2, 10 |
| Segment-specific churn insights | 3, 4 |
| Cohort & lifecycle modeling | 5, 6, 9 |
| Dashboard matrix export | 7, 8 |
| KPI vs. Target comparison | 4, 12 |

---

## 📌 Benchmark Integration

To activate retention KPI benchmarking:

- Use `Script 4` and `Script 12`
- These pull from the `benchmarks` table using:
  - `metric_category = customer_segment`
  - `metric_name = 'Churn Rate %'` or `'Retention %'`

---

## 🗂️ File

**Filename:** `1-hopify_churn_analysis.sql`  
**Scenario:** `Scenario 1 - Churn & Retention Analysis`  
**Dataset Version:** `Hopify v1`

---